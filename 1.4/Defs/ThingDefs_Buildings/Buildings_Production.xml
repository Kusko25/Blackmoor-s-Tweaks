<?xml version="1.0" encoding="UTF-8"?>
<Defs>
   <ThingDef ParentName="BuildingBase">
      <defName>BMT_WasteProcessor</defName>
      <label>waste processor</label>
      <description>A stone basin filled with human waste, food remains and other compost. By adding certain fungal spores and covering the basin with cured hides tightly enough to contain the foul air, it is a primitive way to refine chemfuel.</description>
      <thingClass>ItemProcessor.Building_ItemProcessor</thingClass>
      <researchPrerequisites>
         <li>BMT_Chemfuel</li>
      </researchPrerequisites>
      <graphicData>
         <texPath>Things/Building/Production/WasteProcessor/Waste_Processor_empty</texPath>
         <graphicClass>Graphic_Multi</graphicClass>
         <drawSize>(3,3)</drawSize>
         <damageData>
            <cornerTL>Damage/Corner</cornerTL>
            <cornerTR>Damage/Corner</cornerTR>
            <cornerBL>Damage/Corner</cornerBL>
            <cornerBR>Damage/Corner</cornerBR>
         </damageData>
      </graphicData>
      <castEdgeShadows>true</castEdgeShadows>
      <staticSunShadowHeight>0.20</staticSunShadowHeight>
      <tickerType>Rare</tickerType>
      <stuffCategories>
         <li>Stony</li>
      </stuffCategories>
      <costStuffCount>100</costStuffCount>
      <costList>
         <WoodLog>10</WoodLog>
         <Leather_Patch>30</Leather_Patch>
      </costList>
      <altitudeLayer>Building</altitudeLayer>
      <fillPercent>0.5</fillPercent>
      <useHitPoints>True</useHitPoints>
      <statBases>
         <WorkToBuild>8000</WorkToBuild>
         <MaxHitPoints>300</MaxHitPoints>
         <Cleanliness>-20</Cleanliness>
         <Beauty>-8</Beauty>
      </statBases>
      <size>(3,3)</size>
      <interactionCellOffset>(0,0,2)</interactionCellOffset>
      <designationCategory>Production</designationCategory>
      <defaultPlacingRot>North</defaultPlacingRot>
      <rotatable>False</rotatable>
      <passability>PassThroughOnly</passability>
      <pathCost>80</pathCost>
      <surfaceType>Item</surfaceType>
      <comps>
         <li Class="ItemProcessor.CompProperties_ItemProcessor">
            <buildingOnGraphic>Things/Building/Production/WasteProcessor/Waste_Processor</buildingOnGraphic>
            <buildingFinishedGraphic>Things/Building/Production/WasteProcessor/Waste_Processor</buildingFinishedGraphic>
            <numberOfInputs>1</numberOfInputs>
            <qualitySelector>false</qualitySelector>
            <InsertFirstItemDesc>BlackmoorTweaks.WasteProcessor.InsertFirstItemDesc</InsertFirstItemDesc>
            <isSemiAutomaticMachine>true</isSemiAutomaticMachine>
            <resetSemiautomaticIcon>UI/Gizmos/TyrianFarm_ResetRecipes</resetSemiautomaticIcon>
            <chooseIngredientsIcon>UI/Gizmos/TyrianFarm_ChooseIngredient</chooseIngredientsIcon>
            <showProgressBar>true</showProgressBar>
            <bringIngredientsText>BlackmoorTweaks.WasteProcessor.bringIngredientsText</bringIngredientsText>
            <bringIngredientsDesc>BlackmoorTweaks.WasteProcessor.bringIngredientsDesc</bringIngredientsDesc>
            <bringIngredientsIcon>UI/Gizmos/TyrianFarm_ChooseIngredient</bringIngredientsIcon>
            <cancelIngredientsText>BlackmoorTweaks.WasteProcessor.cancelIngredientsText</cancelIngredientsText>
            <cancelIngredientsDesc>BlackmoorTweaks.WasteProcessor.cancelIngredientsDesc</cancelIngredientsDesc>
            <cancelIngredientsIcon>UI/Gizmos/TyrianFarm_Cancel</cancelIngredientsIcon>
            <noPowerDestroysProgress>false</noPowerDestroysProgress>
            <destroyIngredientsAtStartOfProcess>true</destroyIngredientsAtStartOfProcess>
         </li>
      </comps>
   </ThingDef>
   <ThingDef ParentName="BuildingBase" MayRequire="VanillaExpanded.VChemfuelE">
      <defName>BMT_PrimitiveChemfuelTank</defName>
      <label>primitive chemfuel tank</label>
      <description>An elevated barrel for storing chemfuel and letting gravity pump it to it's target. Tanks can be designated to be siphoned for usable chemfuel as needed.  If damaged even lightly the escaping fumes will very swiftly create a gaseous fireball, the size of the resulting explosion will depend on the amount stored within.</description>
      <drawerType>MapMeshAndRealTime</drawerType>
      <graphicData>
         <texPath>Things/Building/Production/PrimitiveChemfuelTank/PrimitiveChemfuelTank</texPath>
         <graphicClass>Graphic_Multi</graphicClass>
         <drawSize>(1,2)</drawSize>
         <damageData>
            <cornerTL>Damage/Corner</cornerTL>
            <cornerTR>Damage/Corner</cornerTR>
            <cornerBL>Damage/Corner</cornerBL>
            <cornerBR>Damage/Corner</cornerBR>
         </damageData>
      </graphicData>
      <altitudeLayer>Building</altitudeLayer>
      <passability>Impassable</passability>
      <pathCost>50</pathCost>
      <blockWind>true</blockWind>
      <castEdgeShadows>true</castEdgeShadows>
      <fillPercent>0.40</fillPercent>
      <tickerType>Normal</tickerType>
      <statBases>
         <MaxHitPoints>50</MaxHitPoints>
         <WorkToBuild>500</WorkToBuild>
         <Mass>20</Mass>
         <Flammability>1.0</Flammability>
      </statBases>
      <size>(1,2)</size>
      <stuffCategories>
         <li>Woody</li>
      </stuffCategories>
      <defaultPlacingRot>North</defaultPlacingRot>
      <rotatable>False</rotatable>
      <costStuffCount>100</costStuffCount>
      <comps>
         <li Class="PipeSystem.CompProperties_ResourceStorage">
            <pipeNet>VCHE_ChemfuelNet</pipeNet>
            <storageCapacity>500</storageCapacity>
            <barSize>(1.3, 0.25)</barSize>
            <margin>0.1</margin>
            <centerOffset>(0, 0, 0.35)</centerOffset>
            <extractOptions>
               <texPath>UI/Gizmos/ExtractChemfuel</texPath>
               <labelKey>VCHE_ExtractChemfuel</labelKey>
               <descKey>VCHE_ExtractChemfuelDesc</descKey>
               <extractAmount>150</extractAmount>
               <thing>Chemfuel</thing>
               <ratio>1</ratio>
            </extractOptions>
         </li>
         <li Class="PipeSystem.CompProperties_ExplosiveContent">
            <explosiveMaxRadius>12</explosiveMaxRadius>
            <!-- Vanilla options below -->
            <explosiveDamageType>Flame</explosiveDamageType>
            <destroyThingOnExplosionSize>2</destroyThingOnExplosionSize>
            <startWickHitPointsPercent>0.333</startWickHitPointsPercent>
            <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
            <preExplosionSpawnChance>1</preExplosionSpawnChance>
            <wickTicks>70~150</wickTicks>
         </li>
      </comps>
      <terrainAffordanceNeeded>Medium</terrainAffordanceNeeded>
      <designationCategory>VCHE_PipeNetworks</designationCategory>
      <staticSunShadowHeight>0.2</staticSunShadowHeight>
      <constructEffect>ConstructWood</constructEffect>
      <canOverlapZones>false</canOverlapZones>
      <researchPrerequisites>
         <li>BMT_Chemfuel</li>
      </researchPrerequisites>
   </ThingDef>
</Defs>